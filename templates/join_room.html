{% extends "base.html" %}

{% block title %}Rejoindre - C'est Trop Dur{% endblock %}

{% block body %}
<div class="page-container">
  <div class="page-card glass-card animate-fade-in">
    <h1 class="game-title" style="font-size: 2.5rem;">Rejoindre une partie</h1>

    <div class="info-box">
      Entrez le code de partie pour rejoindre vos amis.
    </div>

    {% if error %}
    <div class="error-box">{{ error }}</div>
    {% endif %}

    <form method="POST">
      <div class="form-group">
        <label class="form-label" for="code">Code de la partie</label>
        <input type="text" class="input-field code-input" id="code" name="code"
               placeholder="AB12" maxlength="4" required>
      </div>
      <div class="form-group">
        <label class="form-label" for="player_name">Votre nom</label>
        <input type="text" class="input-field" id="player_name" name="player_name"
               placeholder="Entrez votre nom" maxlength="20" required>
      </div>
      <button type="submit" class="btn btn-primary btn-full">Rejoindre</button>
      <a href="/" class="btn btn-secondary btn-full" style="margin-top: 12px;">Annuler</a>
    </form>
  </div>
</div>

<style>
  body { overflow-y: auto; }

  .info-box {
    background: rgba(212, 165, 116, 0.06);
    border: 1px solid var(--border-gold);
    border-radius: var(--radius-sm);
    padding: 14px 18px;
    margin-bottom: 28px;
    color: var(--text-secondary);
    font-size: 0.9rem;
    line-height: 1.6;
  }
  .error-box {
    background: rgba(212, 93, 93, 0.15);
    border: 1px solid rgba(212, 93, 93, 0.4);
    border-radius: var(--radius-sm);
    padding: 14px 18px;
    margin-bottom: 20px;
    color: var(--accent-red);
    font-weight: 600;
    font-size: 0.9rem;
  }
  .form-group {
    margin-bottom: 24px;
  }
  .code-input {
    letter-spacing: 8px;
    font-size: 1.6rem !important;
    text-align: center;
    text-transform: uppercase;
    font-weight: 700;
    font-family: 'Bebas Neue', sans-serif !important;
  }
  .btn-full {
    width: 100%;
    display: flex;
    justify-content: center;
  }
</style>

<script>
  document.getElementById('code').addEventListener('input', function() {
    this.value = this.value.toUpperCase();
  });
</script>
{% endblock %}
